@model AjudeiMais.Ecommerce.Models.Admin.AdminModel
@{
    ViewData["Title"] = "Admin - Dashboard";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin/dashboard.css" asp-append-version="true" />
}
@{
    // This partial view should contain your alert/notification display logic
    await Html.RenderPartialAsync("_Alertas");
}
    <div class="container-fluid py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-xxl-10">
                <div class="dashboard-container">
                    <!-- Header -->
                    <header class="dashboard-header p-4 p-md-5">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <h1 class="dashboard-title">Dashboard Administrativo</h1>
                                <p class="dashboard-subtitle mb-0">Visão geral do sistema e acesso rápido às funcionalidades</p>
                            </div>
                            <div class="d-none d-md-block">
                                <i class="fas fa-chart-line fa-3x opacity-25"></i>
                            </div>
                        </div>
                    </header>

                    <div class="p-4 p-md-5">
                        <!-- Métricas -->
                        <div class="row g-4 mb-5">
                            <div class="col-6 col-lg-3">
                                <div class="metric-card primary fade-in h-100 p-4">
                                    <div class="d-flex align-items-center">
                                        <div class="metric-icon me-3">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="metric-value pulse-animation">@Model.Usuarios.Count()</div>
                                            <div class="metric-label">Usuários Ativos</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6 col-lg-3">
                                <div class="metric-card secondary fade-in h-100 p-4">
                                    <div class="d-flex align-items-center">
                                        <div class="metric-icon me-3">
                                            <i class="fas fa-building"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="metric-value pulse-animation">@Model.Instituicoes.Count()</div>
                                            <div class="metric-label">Instituições Ativas</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6 col-lg-3">
                                <div class="metric-card accent fade-in h-100 p-4">
                                    <div class="d-flex align-items-center">
                                        <div class="metric-icon me-3">
                                            <i class="fas fa-shopping-cart"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="metric-value pulse-animation">30</div>
                                            <div class="metric-label">Pedidos Ativos</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6 col-lg-3">
                                <div class="metric-card info fade-in h-100 p-4">
                                    <div class="d-flex align-items-center">
                                        <div class="metric-icon me-3">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="metric-value pulse-animation">150</div>
                                            <div class="metric-label">Pedidos Concluídos</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Acesso Rápido -->
                        <section class="quick-access-section p-4 p-md-5">
                            <h2 class="section-title">Acesso Rápido</h2>
                            <div class="row g-4">
                                <div class="col-6 col-md-4 col-xl-2">
                                    <a href="/Admin/Usuarios" class="quick-link primary d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-users"></i>
                                            <div class="quick-link-label">Usuários</div>
                                        </div>
                                    </a>
                                </div>

                                <div class="col-6 col-md-4 col-xl-2">
                                    <a href="/Admin/Instituicoes" class="quick-link secondary d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-building"></i>
                                            <div class="quick-link-label">Instituições</div>
                                        </div>
                                    </a>
                                </div>

                                <div class="col-6 col-md-4 col-xl-2">
                                <a href="@Url.RouteUrl("admin-categorias-produto")" class="quick-link accent d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-tags"></i>
                                            <div class="quick-link-label">Categorias</div>
                                        </div>
                                    </a>
                                </div>

                                <div class="col-6 col-md-4 col-xl-2">
                                    <a href="/Admin/Anuncios" class="quick-link warning d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-bullhorn"></i>
                                            <div class="quick-link-label">Anúncios</div>
                                        </div>
                                    </a>
                                </div>

                                <div class="col-6 col-md-4 col-xl-2">
                                    <a href="/Admin/Pedidos" class="quick-link info d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-shopping-cart"></i>
                                            <div class="quick-link-label">Pedidos</div>
                                        </div>
                                    </a>
                                </div>

                                <div class="col-6 col-md-4 col-xl-2">
                                    <a href="/Admin/Relatorios" class="quick-link primary d-flex flex-column align-items-center justify-content-center text-decoration-none p-3">
                                        <div class="quick-link-content text-center">
                                            <i class="quick-link-icon fas fa-chart-bar"></i>
                                            <div class="quick-link-label">Relatórios</div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Adiciona interatividade e animações
        document.addEventListener('DOMContentLoaded', function() {
            // Animação de contadores
            const counters = document.querySelectorAll('.metric-value');
            counters.forEach(counter => {
                const target = parseInt(counter.textContent);
                let current = 0;
                const increment = target / 50;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        counter.textContent = target;
                        clearInterval(timer);
                    } else {
                        counter.textContent = Math.floor(current);
                    }
                }, 30);
            });

            // Adiciona efeito de hover nos cards
            const cards = document.querySelectorAll('.metric-card, .quick-link');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        });
    </script>